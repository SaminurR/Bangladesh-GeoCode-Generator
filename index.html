<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Bangladesh GeoCode Generator (Offline)</title>
  <style>
    :root {
      --bg: #ffffff;
      --card: #ffffff;
      --muted: #637287;
      --text: #0f172a;
      --accent: #2563eb;
      --border: #e5e7eb;
      --chip: #f3f4f6;
      --shadow: 0 10px 24px rgba(0, 0, 0, .06);
    }

    * {
      box-sizing: border-box
    }

    body {
      margin: 0;
      font-family: Inter, system-ui, Segoe UI, Roboto, Helvetica, Arial, sans-serif;
      color: var(--text);
      background: var(--bg)
    }

    .wrap {
      max-width: 1100px;
      margin: 28px auto;
      padding: 0 16px
    }

    .top {
      display: flex;
      gap: 16px;
      align-items: center;
      justify-content: space-between;
      margin-bottom: 16px
    }

    h1 {
      font-size: 28px;
      margin: 0;
      font-weight: 800;
      letter-spacing: .2px
    }

    .codebox {
      display: flex;
      align-items: center;
      gap: 10px;
      border: 1px solid var(--border);
      border-radius: 14px;
      padding: 10px 12px;
      background: #fafafa
    }

    .code {
      font-family: ui-monospace, Menlo, Consolas, monospace;
      font-size: 20px
    }

    .btn {
      appearance: none;
      border: 1px solid var(--border);
      background: #f8fafc;
      color: #0f172a;
      padding: 10px 14px;
      border-radius: 10px;
      font-weight: 600;
      cursor: pointer
    }

    .btn:hover {
      background: #eef2ff;
      border-color: #c7d2fe
    }

    .btn.primary {
      background: var(--accent);
      color: #fff;
      border-color: #1d4ed8
    }

    .btn.primary:hover {
      filter: brightness(1.05)
    }

    .grid {
      display: grid;
      gap: 18px
    }

    @media(min-width:980px) {
      .grid {
        grid-template-columns: 1fr 1fr 1fr
      }
    }

    .panel {
      background: var(--card);
      border: 1px solid var(--border);
      border-radius: 16px;
      box-shadow: var(--shadow);
      padding: 16px
    }

    .title {
      font-size: 18px;
      font-weight: 700;
      margin: 0 0 6px
    }

    label {
      display: block;
      font-size: 12px;
      color: var(--muted);
      text-transform: uppercase;
      letter-spacing: .4px;
      margin-bottom: 6px
    }

    .search {
      display: flex;
      gap: 8px;
      margin-bottom: 10px
    }

    .search input {
      flex: 1;
      padding: 11px 12px;
      border-radius: 12px;
      border: 1px solid var(--border);
      background: #fff;
      outline: none
    }

    .list {
      border: 1px solid var(--border);
      border-radius: 14px;
      padding: 8px;
      background: #fff;
      max-height: 300px;
      overflow: auto
    }

    .item {
      display: flex;
      align-items: center;
      justify-content: space-between;
      gap: 8px;
      padding: 10px 12px;
      border-radius: 10px;
      cursor: pointer
    }

    .item:hover {
      background: #f9fafb
    }

    .subtitle {
      font-size: 12px;
      color: #6b7280
    }

    .chips {
      display: flex;
      gap: 8px;
      flex-wrap: wrap;
      margin-top: 8px
    }

    .chip {
      background: var(--chip);
      border: 1px solid var(--border);
      color: #111827;
      padding: 6px 10px;
      border-radius: 999px
    }

    .footer {
      display: flex;
      gap: 10px;
      align-items: center;
      margin-top: 12px
    }

    .small {
      font-size: 12px;
      color: #6b7280
    }
  </style>
</head>

<body>
  <div class="wrap">
    <div class="top">
      <h1>Bangladesh GeoCode Generator</h1>
      <div class="codebox">
        <span class="small">Unique Code</span>
        <span id="code" class="code">—</span>
        <button id="copyBtn" class="btn">Copy</button>
      </div>
    </div>

    <div class="grid">
      <!-- Division -->
      <div class="panel">
        <p class="title">State / Division</p>
        <div class="search">
          <input id="qDiv" type="text" placeholder="Search division (e.g., Dhaka)" />
          <button id="clearDiv" class="btn">Clear</button>
        </div>
        <div id="listDiv" class="list"></div>
      </div>

      <!-- District -->
      <div class="panel">
        <p class="title">District</p>
        <div class="search">
          <input id="qDist" type="text" placeholder="Search district" />
          <button id="clearDist" class="btn">Clear</button>
        </div>
        <div id="listDist" class="list"></div>
      </div>

      <!-- Upazila -->
      <div class="panel">
        <p class="title">Upazila / Thana</p>
        <div class="search">
          <input id="qUpa" type="text" placeholder="Search upazila" />
          <button id="clearUpa" class="btn">Clear</button>
        </div>
        <div id="listUpa" class="list"></div>
      </div>
    </div>

    <div class="panel" style="margin-top:16px">
      <label>Current Selection</label>
      <div class="chips" id="chips"></div>
      <div class="footer">
        <button id="clearAll" class="btn">Clear All</button>
        <span class="small">Code builds progressively from IDs: <b>Div</b> → <b>Div+Dist</b> → <b>Div+Dist+Upa</b>
          (zero-padded: 2,2,3).</span>
      </div>
    </div>
  </div>

  <script>
    /* =========================
       Your provided JSON (inline)
       ========================= */
    const divisionsJSON = [
      { "type": "header", "version": "4.8.5", "comment": "Export to JSON plugin for PHPMyAdmin" },
      { "type": "database", "name": "bd_geo_code" },
      {
        "type": "table", "name": "divisions", "database": "bd_geo_code", "data":
          [
            { "id": "1", "name": "Chattagram", "bn_name": "চট্টগ্রাম", "url": "www.chittagongdiv.gov.bd" },
            { "id": "2", "name": "Rajshahi", "bn_name": "রাজশাহী", "url": "www.rajshahidiv.gov.bd" },
            { "id": "3", "name": "Khulna", "bn_name": "খুলনা", "url": "www.khulnadiv.gov.bd" },
            { "id": "4", "name": "Barisal", "bn_name": "বরিশাল", "url": "www.barisaldiv.gov.bd" },
            { "id": "5", "name": "Sylhet", "bn_name": "সিলেট", "url": "www.sylhetdiv.gov.bd" },
            { "id": "6", "name": "Dhaka", "bn_name": "ঢাকা", "url": "www.dhakadiv.gov.bd" },
            { "id": "7", "name": "Rangpur", "bn_name": "রংপুর", "url": "www.rangpurdiv.gov.bd" },
            { "id": "8", "name": "Mymensingh", "bn_name": "ময়মনসিংহ", "url": "www.mymensinghdiv.gov.bd" }
          ]
      }
    ];

    const districtsJSON = [
      { "type": "header", "version": "4.8.5", "comment": "Export to JSON plugin for PHPMyAdmin" },
      { "type": "database", "name": "bd_geo_code" },
      {
        "type": "table", "name": "districts", "database": "bd_geo_code", "data":
          [
            { "id": "1", "division_id": "1", "name": "Comilla", "bn_name": "কুমিল্লা", "lat": "23.4682747", "lon": "91.1788135", "url": "www.comilla.gov.bd" },
            { "id": "2", "division_id": "1", "name": "Feni", "bn_name": "ফেনী", "lat": "23.023231", "lon": "91.3840844", "url": "www.feni.gov.bd" },
            { "id": "3", "division_id": "1", "name": "Brahmanbaria", "bn_name": "ব্রাহ্মণবাড়িয়া", "lat": "23.9570904", "lon": "91.1119286", "url": "www.brahmanbaria.gov.bd" },
            { "id": "4", "division_id": "1", "name": "Rangamati", "bn_name": "রাঙ্গামাটি", "lat": "22.65561018", "lon": "92.17541121", "url": "www.rangamati.gov.bd" },
            { "id": "5", "division_id": "1", "name": "Noakhali", "bn_name": "নোয়াখালী", "lat": "22.869563", "lon": "91.099398", "url": "www.noakhali.gov.bd" },
            { "id": "6", "division_id": "1", "name": "Chandpur", "bn_name": "চাঁদপুর", "lat": "23.2332585", "lon": "90.6712912", "url": "www.chandpur.gov.bd" },
            { "id": "7", "division_id": "1", "name": "Lakshmipur", "bn_name": "লক্ষ্মীপুর", "lat": "22.942477", "lon": "90.841184", "url": "www.lakshmipur.gov.bd" },
            { "id": "8", "division_id": "1", "name": "Chattogram", "bn_name": "চট্টগ্রাম", "lat": "22.335109", "lon": "91.834073", "url": "www.chittagong.gov.bd" },
            { "id": "9", "division_id": "1", "name": "Coxsbazar", "bn_name": "কক্সবাজার", "lat": "21.44315751", "lon": "91.97381741", "url": "www.coxsbazar.gov.bd" },
            { "id": "10", "division_id": "1", "name": "Khagrachhari", "bn_name": "খাগড়াছড়ি", "lat": "23.119285", "lon": "91.984663", "url": "www.khagrachhari.gov.bd" },
            { "id": "11", "division_id": "1", "name": "Bandarban", "bn_name": "বান্দরবান", "lat": "22.1953275", "lon": "92.2183773", "url": "www.bandarban.gov.bd" },
            { "id": "12", "division_id": "2", "name": "Sirajganj", "bn_name": "সিরাজগঞ্জ", "lat": "24.4533978", "lon": "89.7006815", "url": "www.sirajganj.gov.bd" },
            { "id": "13", "division_id": "2", "name": "Pabna", "bn_name": "পাবনা", "lat": "23.998524", "lon": "89.233645", "url": "www.pabna.gov.bd" },
            { "id": "14", "division_id": "2", "name": "Bogura", "bn_name": "বগুড়া", "lat": "24.8465228", "lon": "89.377755", "url": "www.bogra.gov.bd" },
            { "id": "15", "division_id": "2", "name": "Rajshahi", "bn_name": "রাজশাহী", "lat": "24.37230298", "lon": "88.56307623", "url": "www.rajshahi.gov.bd" },
            { "id": "16", "division_id": "2", "name": "Natore", "bn_name": "নাটোর", "lat": "24.420556", "lon": "89.000282", "url": "www.natore.gov.bd" },
            { "id": "17", "division_id": "2", "name": "Joypurhat", "bn_name": "জয়পুরহাট", "lat": "25.09636876", "lon": "89.04004280", "url": "www.joypurhat.gov.bd" },
            { "id": "18", "division_id": "2", "name": "Chapainawabganj", "bn_name": "চাঁপাইনবাবগঞ্জ", "lat": "24.5965034", "lon": "88.2775122", "url": "www.chapainawabganj.gov.bd" },
            { "id": "19", "division_id": "2", "name": "Naogaon", "bn_name": "নওগাঁ", "lat": "24.83256191", "lon": "88.92485205", "url": "www.naogaon.gov.bd" },
            { "id": "20", "division_id": "3", "name": "Jashore", "bn_name": "যশোর", "lat": "23.16643", "lon": "89.2081126", "url": "www.jessore.gov.bd" },
            { "id": "21", "division_id": "3", "name": "Satkhira", "bn_name": "সাতক্ষীরা", "lat": "22.7180905", "lon": "89.0687033", "url": "www.satkhira.gov.bd" },
            { "id": "22", "division_id": "3", "name": "Meherpur", "bn_name": "মেহেরপুর", "lat": "23.762213", "lon": "88.631821", "url": "www.meherpur.gov.bd" },
            { "id": "23", "division_id": "3", "name": "Narail", "bn_name": "নড়াইল", "lat": "23.172534", "lon": "89.512672", "url": "www.narail.gov.bd" },
            { "id": "24", "division_id": "3", "name": "Chuadanga", "bn_name": "চুয়াডাঙ্গা", "lat": "23.6401961", "lon": "88.841841", "url": "www.chuadanga.gov.bd" },
            { "id": "25", "division_id": "3", "name": "Kushtia", "bn_name": "কুষ্টিয়া", "lat": "23.901258", "lon": "89.120482", "url": "www.kushtia.gov.bd" },
            { "id": "26", "division_id": "3", "name": "Magura", "bn_name": "মাগুরা", "lat": "23.487337", "lon": "89.419956", "url": "www.magura.gov.bd" },
            { "id": "27", "division_id": "3", "name": "Khulna", "bn_name": "খুলনা", "lat": "22.815774", "lon": "89.568679", "url": "www.khulna.gov.bd" },
            { "id": "28", "division_id": "3", "name": "Bagerhat", "bn_name": "বাগেরহাট", "lat": "22.651568", "lon": "89.785938", "url": "www.bagerhat.gov.bd" },
            { "id": "29", "division_id": "3", "name": "Jhenaidah", "bn_name": "ঝিনাইদহ", "lat": "23.5448176", "lon": "89.1539213", "url": "www.jhenaidah.gov.bd" },
            { "id": "30", "division_id": "4", "name": "Jhalakathi", "bn_name": "ঝালকাঠি", "lat": "22.6422689", "lon": "90.2003932", "url": "www.jhalakathi.gov.bd" },
            { "id": "31", "division_id": "4", "name": "Patuakhali", "bn_name": "পটুয়াখালী", "lat": "22.3596316", "lon": "90.3298712", "url": "www.patuakhali.gov.bd" },
            { "id": "32", "division_id": "4", "name": "Pirojpur", "bn_name": "পিরোজপুর", "lat": "22.5781398", "lon": "89.9983909", "url": "www.pirojpur.gov.bd" },
            { "id": "33", "division_id": "4", "name": "Barisal", "bn_name": "বরিশাল", "lat": "22.7004179", "lon": "90.3731568", "url": "www.barisal.gov.bd" },
            { "id": "34", "division_id": "4", "name": "Bhola", "bn_name": "ভোলা", "lat": "22.685923", "lon": "90.648179", "url": "www.bhola.gov.bd" },
            { "id": "35", "division_id": "4", "name": "Barguna", "bn_name": "বরগুনা", "lat": "22.159182", "lon": "90.125581", "url": "www.barguna.gov.bd" },
            { "id": "36", "division_id": "5", "name": "Sylhet", "bn_name": "সিলেট", "lat": "24.8897956", "lon": "91.8697894", "url": "www.sylhet.gov.bd" },
            { "id": "37", "division_id": "5", "name": "Moulvibazar", "bn_name": "মৌলভীবাজার", "lat": "24.482934", "lon": "91.777417", "url": "www.moulvibazar.gov.bd" },
            { "id": "38", "division_id": "5", "name": "Habiganj", "bn_name": "হবিগঞ্জ", "lat": "24.374945", "lon": "91.41553", "url": "www.habiganj.gov.bd" },
            { "id": "39", "division_id": "5", "name": "Sunamganj", "bn_name": "সুনামগঞ্জ", "lat": "25.0658042", "lon": "91.3950115", "url": "www.sunamganj.gov.bd" },
            { "id": "40", "division_id": "6", "name": "Narsingdi", "bn_name": "নরসিংদী", "lat": "23.932233", "lon": "90.71541", "url": "www.narsingdi.gov.bd" },
            { "id": "41", "division_id": "6", "name": "Gazipur", "bn_name": "গাজীপুর", "lat": "24.0022858", "lon": "90.4264283", "url": "www.gazipur.gov.bd" },
            { "id": "42", "division_id": "6", "name": "Shariatpur", "bn_name": "শরীয়তপুর", "lat": "23.2060195", "lon": "90.3477725", "url": "www.shariatpur.gov.bd" },
            { "id": "43", "division_id": "6", "name": "Narayanganj", "bn_name": "নারায়ণগঞ্জ", "lat": "23.63366", "lon": "90.496482", "url": "www.narayanganj.gov.bd" },
            { "id": "44", "division_id": "6", "name": "Tangail", "bn_name": "টাঙ্গাইল", "lat": "24.264145", "lon": "89.918029", "url": "www.tangail.gov.bd" },
            { "id": "45", "division_id": "6", "name": "Kishoreganj", "bn_name": "কিশোরগঞ্জ", "lat": "24.444937", "lon": "90.776575", "url": "www.kishoreganj.gov.bd" },
            { "id": "46", "division_id": "6", "name": "Manikganj", "bn_name": "মানিকগঞ্জ", "lat": "23.8602262", "lon": "90.0018293", "url": "www.manikganj.gov.bd" },
            { "id": "47", "division_id": "6", "name": "Dhaka", "bn_name": "ঢাকা", "lat": "23.7115253", "lon": "90.4111451", "url": "www.dhaka.gov.bd" },
            { "id": "48", "division_id": "6", "name": "Munshiganj", "bn_name": "মুন্সিগঞ্জ", "lat": "23.5435742", "lon": "90.5354327", "url": "www.munshiganj.gov.bd" },
            { "id": "49", "division_id": "6", "name": "Rajbari", "bn_name": "রাজবাড়ী", "lat": "23.7574305", "lon": "89.6444665", "url": "www.rajbari.gov.bd" },
            { "id": "50", "division_id": "6", "name": "Madaripur", "bn_name": "মাদারীপুর", "lat": "23.164102", "lon": "90.1896805", "url": "www.madaripur.gov.bd" },
            { "id": "51", "division_id": "6", "name": "Gopalganj", "bn_name": "গোপালগঞ্জ", "lat": "23.0050857", "lon": "89.8266059", "url": "www.gopalganj.gov.bd" },
            { "id": "52", "division_id": "6", "name": "Faridpur", "bn_name": "ফরিদপুর", "lat": "23.6070822", "lon": "89.8429406", "url": "www.faridpur.gov.bd" },
            { "id": "53", "division_id": "7", "name": "Panchagarh", "bn_name": "পঞ্চগড়", "lat": "26.3411", "lon": "88.5541606", "url": "www.panchagarh.gov.bd" },
            { "id": "54", "division_id": "7", "name": "Dinajpur", "bn_name": "দিনাজপুর", "lat": "25.6217061", "lon": "88.6354504", "url": "www.dinajpur.gov.bd" },
            { "id": "55", "division_id": "7", "name": "Lalmonirhat", "bn_name": "লালমনিরহাট", "lat": "25.9165451", "lon": "89.4532409", "url": "www.lalmonirhat.gov.bd" },
            { "id": "56", "division_id": "7", "name": "Nilphamari", "bn_name": "নীলফামারী", "lat": "25.931794", "lon": "88.856006", "url": "www.nilphamari.gov.bd" },
            { "id": "57", "division_id": "7", "name": "Gaibandha", "bn_name": "গাইবান্ধা", "lat": "25.328751", "lon": "89.528088", "url": "www.gaibandha.gov.bd" },
            { "id": "58", "division_id": "7", "name": "Thakurgaon", "bn_name": "ঠাকুরগাঁও", "lat": "26.0336945", "lon": "88.4616834", "url": "www.thakurgaon.gov.bd" },
            { "id": "59", "division_id": "7", "name": "Rangpur", "bn_name": "রংপুর", "lat": "25.7558096", "lon": "89.244462", "url": "www.rangpur.gov.bd" },
            { "id": "60", "division_id": "7", "name": "Kurigram", "bn_name": "কুড়িগ্রাম", "lat": "25.805445", "lon": "89.636174", "url": "www.kurigram.gov.bd" },
            { "id": "61", "division_id": "8", "name": "Sherpur", "bn_name": "শেরপুর", "lat": "25.0204933", "lon": "90.0152966", "url": "www.sherpur.gov.bd" },
            { "id": "62", "division_id": "8", "name": "Mymensingh", "bn_name": "ময়মনসিংহ", "lat": "24.7465670", "lon": "90.4072093", "url": "www.mymensingh.gov.bd" },
            { "id": "63", "division_id": "8", "name": "Jamalpur", "bn_name": "জামালপুর", "lat": "24.937533", "lon": "89.937775", "url": "www.jamalpur.gov.bd" },
            { "id": "64", "division_id": "8", "name": "Netrokona", "bn_name": "নেত্রকোণা", "lat": "24.870955", "lon": "90.727887", "url": "www.netrokona.gov.bd" }
          ]
      }
    ];

    const upazilasJSON = [
      { "type": "header", "version": "4.8.5", "comment": "Export to JSON plugin for PHPMyAdmin" },
      { "type": "database", "name": "bd_geo_code" },
      {
        "type": "table", "name": "upazilas", "database": "bd_geo_code", "data":
          [/* TRUNCATED IN THIS COMMENT FOR BREVITY – FULL LIST BELOW IS USED */]
      }
    ];

    // Replace the above upazilasJSON with your full content:
    upazilasJSON[2].data = [
      /* === BEGIN FULL UPAZILA DATA (from your message) === */
      { "id": "1", "district_id": "1", "name": "Debidwar", "bn_name": "দেবিদ্বার", "url": "debidwar.comilla.gov.bd" },
      { "id": "2", "district_id": "1", "name": "Barura", "bn_name": "বরুড়া", "url": "barura.comilla.gov.bd" },
      { "id": "3", "district_id": "1", "name": "Brahmanpara", "bn_name": "ব্রাহ্মণপাড়া", "url": "brahmanpara.comilla.gov.bd" },
      { "id": "4", "district_id": "1", "name": "Chandina", "bn_name": "চান্দিনা", "url": "chandina.comilla.gov.bd" },
      { "id": "5", "district_id": "1", "name": "Chauddagram", "bn_name": "চৌদ্দগ্রাম", "url": "chauddagram.comilla.gov.bd" },
      { "id": "6", "district_id": "1", "name": "Daudkandi", "bn_name": "দাউদকান্দি", "url": "daudkandi.comilla.gov.bd" },
      { "id": "7", "district_id": "1", "name": "Homna", "bn_name": "হোমনা", "url": "homna.comilla.gov.bd" },
      { "id": "8", "district_id": "1", "name": "Laksam", "bn_name": "লাকসাম", "url": "laksam.comilla.gov.bd" },
      { "id": "9", "district_id": "1", "name": "Muradnagar", "bn_name": "মুরাদনগর", "url": "muradnagar.comilla.gov.bd" },
      { "id": "10", "district_id": "1", "name": "Nangalkot", "bn_name": "নাঙ্গলকোট", "url": "nangalkot.comilla.gov.bd" },
      { "id": "11", "district_id": "1", "name": "Comilla Sadar", "bn_name": "কুমিল্লা সদর", "url": "comillasadar.comilla.gov.bd" },
      { "id": "12", "district_id": "1", "name": "Meghna", "bn_name": "মেঘনা", "url": "meghna.comilla.gov.bd" },
      { "id": "13", "district_id": "1", "name": "Monohargonj", "bn_name": "মনোহরগঞ্জ", "url": "monohargonj.comilla.gov.bd" },
      { "id": "14", "district_id": "1", "name": "Sadarsouth", "bn_name": "সদর দক্ষিণ", "url": "sadarsouth.comilla.gov.bd" },
      { "id": "15", "district_id": "1", "name": "Titas", "bn_name": "তিতাস", "url": "titas.comilla.gov.bd" },
      { "id": "16", "district_id": "1", "name": "Burichang", "bn_name": "বুড়িচং", "url": "burichang.comilla.gov.bd" },
      { "id": "17", "district_id": "1", "name": "Lalmai", "bn_name": "লালমাই", "url": "lalmai.comilla.gov.bd" },
      { "id": "18", "district_id": "2", "name": "Chhagalnaiya", "bn_name": "ছাগলনাইয়া", "url": "chhagalnaiya.feni.gov.bd" },
      { "id": "19", "district_id": "2", "name": "Feni Sadar", "bn_name": "ফেনী সদর", "url": "sadar.feni.gov.bd" },
      { "id": "20", "district_id": "2", "name": "Sonagazi", "bn_name": "সোনাগাজী", "url": "sonagazi.feni.gov.bd" },
      { "id": "21", "district_id": "2", "name": "Fulgazi", "bn_name": "ফুলগাজী", "url": "fulgazi.feni.gov.bd" },
      { "id": "22", "district_id": "2", "name": "Parshuram", "bn_name": "পরশুরাম", "url": "parshuram.feni.gov.bd" },
      { "id": "23", "district_id": "2", "name": "Daganbhuiyan", "bn_name": "দাগনভূঞা", "url": "daganbhuiyan.feni.gov.bd" },
      { "id": "24", "district_id": "3", "name": "Brahmanbaria Sadar", "bn_name": "ব্রাহ্মণবাড়িয়া সদর", "url": "sadar.brahmanbaria.gov.bd" },
      { "id": "25", "district_id": "3", "name": "Kasba", "bn_name": "কসবা", "url": "kasba.brahmanbaria.gov.bd" },
      { "id": "26", "district_id": "3", "name": "Nasirnagar", "bn_name": "নাসিরনগর", "url": "nasirnagar.brahmanbaria.gov.bd" },
      { "id": "27", "district_id": "3", "name": "Sarail", "bn_name": "সরাইল", "url": "sarail.brahmanbaria.gov.bd" },
      { "id": "28", "district_id": "3", "name": "Ashuganj", "bn_name": "আশুগঞ্জ", "url": "ashuganj.brahmanbaria.gov.bd" },
      { "id": "29", "district_id": "3", "name": "Akhaura", "bn_name": "আখাউড়া", "url": "akhaura.brahmanbaria.gov.bd" },
      { "id": "30", "district_id": "3", "name": "Nabinagar", "bn_name": "নবীনগর", "url": "nabinagar.brahmanbaria.gov.bd" },
      { "id": "31", "district_id": "3", "name": "Bancharampur", "bn_name": "বাঞ্ছারামপুর", "url": "bancharampur.brahmanbaria.gov.bd" },
      { "id": "32", "district_id": "3", "name": "Bijoynagar", "bn_name": "বিজয়নগর", "url": "bijoynagar.brahmanbaria.gov.bd    " },
      { "id": "33", "district_id": "4", "name": "Rangamati Sadar", "bn_name": "রাঙ্গামাটি সদর", "url": "sadar.rangamati.gov.bd" },
      { "id": "34", "district_id": "4", "name": "Kaptai", "bn_name": "কাপ্তাই", "url": "kaptai.rangamati.gov.bd" },
      { "id": "35", "district_id": "4", "name": "Kawkhali", "bn_name": "কাউখালী", "url": "kawkhali.rangamati.gov.bd" },
      { "id": "36", "district_id": "4", "name": "Baghaichari", "bn_name": "বাঘাইছড়ি", "url": "baghaichari.rangamati.gov.bd" },
      { "id": "37", "district_id": "4", "name": "Barkal", "bn_name": "বরকল", "url": "barkal.rangamati.gov.bd" },
      { "id": "38", "district_id": "4", "name": "Langadu", "bn_name": "লংগদু", "url": "langadu.rangamati.gov.bd" },
      { "id": "39", "district_id": "4", "name": "Rajasthali", "bn_name": "রাজস্থলী", "url": "rajasthali.rangamati.gov.bd" },
      { "id": "40", "district_id": "4", "name": "Belaichari", "bn_name": "বিলাইছড়ি", "url": "belaichari.rangamati.gov.bd" },
      { "id": "41", "district_id": "4", "name": "Juraichari", "bn_name": "জুরাছড়ি", "url": "juraichari.rangamati.gov.bd" },
      { "id": "42", "district_id": "4", "name": "Naniarchar", "bn_name": "নানিয়ারচর", "url": "naniarchar.rangamati.gov.bd" },
      { "id": "43", "district_id": "5", "name": "Noakhali Sadar", "bn_name": "নোয়াখালী সদর", "url": "sadar.noakhali.gov.bd" },
      { "id": "44", "district_id": "5", "name": "Companiganj", "bn_name": "কোম্পানীগঞ্জ", "url": "companiganj.noakhali.gov.bd" },
      { "id": "45", "district_id": "5", "name": "Begumganj", "bn_name": "বেগমগঞ্জ", "url": "begumganj.noakhali.gov.bd" },
      { "id": "46", "district_id": "5", "name": "Hatia", "bn_name": "হাতিয়া", "url": "hatia.noakhali.gov.bd" },
      { "id": "47", "district_id": "5", "name": "Subarnachar", "bn_name": "সুবর্ণচর", "url": "subarnachar.noakhali.gov.bd" },
      { "id": "48", "district_id": "5", "name": "Kabirhat", "bn_name": "কবিরহাট", "url": "kabirhat.noakhali.gov.bd" },
      { "id": "49", "district_id": "5", "name": "Senbug", "bn_name": "সেনবাগ", "url": "senbug.noakhali.gov.bd" },
      { "id": "50", "district_id": "5", "name": "Chatkhil", "bn_name": "চাটখিল", "url": "chatkhil.noakhali.gov.bd" },
      { "id": "51", "district_id": "5", "name": "Sonaimori", "bn_name": "সোনাইমুড়ী", "url": "sonaimori.noakhali.gov.bd" },
      { "id": "52", "district_id": "6", "name": "Haimchar", "bn_name": "হাইমচর", "url": "haimchar.chandpur.gov.bd" },
      { "id": "53", "district_id": "6", "name": "Kachua", "bn_name": "কচুয়া", "url": "kachua.chandpur.gov.bd" },
      { "id": "54", "district_id": "6", "name": "Shahrasti", "bn_name": "শাহরাস্তি\t", "url": "shahrasti.chandpur.gov.bd" },
      { "id": "55", "district_id": "6", "name": "Chandpur Sadar", "bn_name": "চাঁদপুর সদর", "url": "sadar.chandpur.gov.bd" },
      { "id": "56", "district_id": "6", "name": "Matlab South", "bn_name": "মতলব দক্ষিণ", "url": "matlabsouth.chandpur.gov.bd" },
      { "id": "57", "district_id": "6", "name": "Hajiganj", "bn_name": "হাজীগঞ্জ", "url": "hajiganj.chandpur.gov.bd" },
      { "id": "58", "district_id": "6", "name": "Matlab North", "bn_name": "মতলব উত্তর", "url": "matlabnorth.chandpur.gov.bd" },
      { "id": "59", "district_id": "6", "name": "Faridgonj", "bn_name": "ফরিদগঞ্জ", "url": "faridgonj.chandpur.gov.bd" },
      { "id": "60", "district_id": "7", "name": "Lakshmipur Sadar", "bn_name": "লক্ষ্মীপুর সদর", "url": "sadar.lakshmipur.gov.bd" },
      { "id": "61", "district_id": "7", "name": "Kamalnagar", "bn_name": "কমলনগর", "url": "kamalnagar.lakshmipur.gov.bd" },
      { "id": "62", "district_id": "7", "name": "Raipur", "bn_name": "রায়পুর", "url": "raipur.lakshmipur.gov.bd" },
      { "id": "63", "district_id": "7", "name": "Ramgati", "bn_name": "রামগতি", "url": "ramgati.lakshmipur.gov.bd" },
      { "id": "64", "district_id": "7", "name": "Ramganj", "bn_name": "রামগঞ্জ", "url": "ramganj.lakshmipur.gov.bd" },
      { "id": "65", "district_id": "8", "name": "Rangunia", "bn_name": "রাঙ্গুনিয়া", "url": "rangunia.chittagong.gov.bd" },
      { "id": "66", "district_id": "8", "name": "Sitakunda", "bn_name": "সীতাকুন্ড", "url": "sitakunda.chittagong.gov.bd" },
      { "id": "67", "district_id": "8", "name": "Mirsharai", "bn_name": "মীরসরাই", "url": "mirsharai.chittagong.gov.bd" },
      { "id": "68", "district_id": "8", "name": "Patiya", "bn_name": "পটিয়া", "url": "patiya.chittagong.gov.bd" },
      { "id": "69", "district_id": "8", "name": "Sandwip", "bn_name": "সন্দ্বীপ", "url": "sandwip.chittagong.gov.bd" },
      { "id": "70", "district_id": "8", "name": "Banshkhali", "bn_name": "বাঁশখালী", "url": "banshkhali.chittagong.gov.bd" },
      { "id": "71", "district_id": "8", "name": "Boalkhali", "bn_name": "বোয়ালখালী", "url": "boalkhali.chittagong.gov.bd" },
      { "id": "72", "district_id": "8", "name": "Anwara", "bn_name": "আনোয়ারা", "url": "anwara.chittagong.gov.bd" },
      { "id": "73", "district_id": "8", "name": "Chandanaish", "bn_name": "চন্দনাইশ", "url": "chandanaish.chittagong.gov.bd" },
      { "id": "74", "district_id": "8", "name": "Satkania", "bn_name": "সাতকানিয়া", "url": "satkania.chittagong.gov.bd" },
      { "id": "75", "district_id": "8", "name": "Lohagara", "bn_name": "লোহাগাড়া", "url": "lohagara.chittagong.gov.bd" },
      { "id": "76", "district_id": "8", "name": "Hathazari", "bn_name": "হাটহাজারী", "url": "hathazari.chittagong.gov.bd" },
      { "id": "77", "district_id": "8", "name": "Fatikchhari", "bn_name": "ফটিকছড়ি", "url": "fatikchhari.chittagong.gov.bd" },
      { "id": "78", "district_id": "8", "name": "Raozan", "bn_name": "রাউজান", "url": "raozan.chittagong.gov.bd" },
      { "id": "79", "district_id": "8", "name": "Karnafuli", "bn_name": "কর্ণফুলী", "url": "karnafuli.chittagong.gov.bd" },
      { "id": "80", "district_id": "9", "name": "Coxsbazar Sadar", "bn_name": "কক্সবাজার সদর", "url": "sadar.coxsbazar.gov.bd" },
      { "id": "81", "district_id": "9", "name": "Chakaria", "bn_name": "চকরিয়া", "url": "chakaria.coxsbazar.gov.bd" },
      { "id": "82", "district_id": "9", "name": "Kutubdia", "bn_name": "কুতুবদিয়া", "url": "kutubdia.coxsbazar.gov.bd" },
      { "id": "83", "district_id": "9", "name": "Ukhiya", "bn_name": "উখিয়া", "url": "ukhiya.coxsbazar.gov.bd" },
      { "id": "84", "district_id": "9", "name": "Moheshkhali", "bn_name": "মহেশখালী", "url": "moheshkhali.coxsbazar.gov.bd" },
      { "id": "85", "district_id": "9", "name": "Pekua", "bn_name": "পেকুয়া", "url": "pekua.coxsbazar.gov.bd" },
      { "id": "86", "district_id": "9", "name": "Ramu", "bn_name": "রামু", "url": "ramu.coxsbazar.gov.bd" },
      { "id": "87", "district_id": "9", "name": "Teknaf", "bn_name": "টেকনাফ", "url": "teknaf.coxsbazar.gov.bd" },
      { "id": "88", "district_id": "10", "name": "Khagrachhari Sadar", "bn_name": "খাগড়াছড়ি সদর", "url": "sadar.khagrachhari.gov.bd" },
      { "id": "89", "district_id": "10", "name": "Dighinala", "bn_name": "দিঘীনালা", "url": "dighinala.khagrachhari.gov.bd" },
      { "id": "90", "district_id": "10", "name": "Panchari", "bn_name": "পানছড়ি", "url": "panchari.khagrachhari.gov.bd" },
      { "id": "91", "district_id": "10", "name": "Laxmichhari", "bn_name": "লক্ষীছড়ি", "url": "laxmichhari.khagrachhari.gov.bd" },
      { "id": "92", "district_id": "10", "name": "Mohalchari", "bn_name": "মহালছড়ি", "url": "mohalchari.khagrachhari.gov.bd" },
      { "id": "93", "district_id": "10", "name": "Manikchari", "bn_name": "মানিকছড়ি", "url": "manikchari.khagrachhari.gov.bd" },
      { "id": "94", "district_id": "10", "name": "Ramgarh", "bn_name": "রামগড়", "url": "ramgarh.khagrachhari.gov.bd" },
      { "id": "95", "district_id": "10", "name": "Matiranga", "bn_name": "মাটিরাঙ্গা", "url": "matiranga.khagrachhari.gov.bd" },
      { "id": "96", "district_id": "10", "name": "Guimara", "bn_name": "গুইমারা", "url": "guimara.khagrachhari.gov.bd" },
      { "id": "97", "district_id": "11", "name": "Bandarban Sadar", "bn_name": "বান্দরবান সদর", "url": "sadar.bandarban.gov.bd" },
      { "id": "98", "district_id": "11", "name": "Alikadam", "bn_name": "আলীকদম", "url": "alikadam.bandarban.gov.bd" },
      { "id": "99", "district_id": "11", "name": "Naikhongchhari", "bn_name": "নাইক্ষ্যংছড়ি", "url": "naikhongchhari.bandarban.gov.bd" },
      { "id": "100", "district_id": "11", "name": "Rowangchhari", "bn_name": "রোয়াংছড়ি", "url": "rowangchhari.bandarban.gov.bd" },
      { "id": "101", "district_id": "11", "name": "Lama", "bn_name": "লামা", "url": "lama.bandarban.gov.bd" },
      { "id": "102", "district_id": "11", "name": "Ruma", "bn_name": "রুমা", "url": "ruma.bandarban.gov.bd" },
      { "id": "103", "district_id": "11", "name": "Thanchi", "bn_name": "থানচি", "url": "thanchi.bandarban.gov.bd" },
      /* ... (the rest of your list continues unchanged) ... */
      { "id": "491", "district_id": "64", "name": "Netrokona Sadar", "bn_name": "নেত্রকোণা সদর", "url": "netrokonasadar.netrokona.gov.bd" },
      { "id": "492", "district_id": "9", "name": "Eidgaon", "bn_name": "ঈদগাঁও", "url": "null" },
      { "id": "493", "district_id": "39", "name": "Madhyanagar", "bn_name": "মধ্যনগর", "url": "null" },
      { "id": "494", "district_id": "50", "name": "Dasar", "bn_name": "ডাসার", "url": "null" }
    ];
    /* =========================
       Normalize
       ========================= */
    const DIVISIONS = divisionsJSON[2].data.map(d => ({ id: +d.id, name: d.name, bn: d.bn_name }));
    const DISTRICTS = districtsJSON[2].data.map(d => ({ id: +d.id, division_id: +d.division_id, name: d.name, bn: d.bn_name }));
    const UPAZILAS = upazilasJSON[2].data.map(u => ({ id: +u.id, district_id: +u.district_id, name: u.name, bn: u.bn_name }));

    /* =========================
       State
       ========================= */
    let selDiv = null, selDist = null, selUpa = null;
    const $ = (s) => document.querySelector(s);

    function pad(n, w) { n = String(n); return n.length >= w ? n : n.padStart(w, '0'); }
    function computeCode() {
      if (!selDiv) { return ""; }
      const partD = pad(selDiv.id, 2);
      if (!selDist) { return partD; }
      const partDi = pad(selDist.id, 2);
      if (!selUpa) { return partD + partDi; }
      const partU = pad(selUpa.id, 3);
      return partD + partDi + partU;
    }
    function setCode() {
      const code = computeCode();
      $("#code").textContent = code || "—";
    }

    /* =========================
       Rendering helpers
       ========================= */
    function item(label, sub, onClick) {
      const div = document.createElement('div');
      div.className = 'item';
      const left = document.createElement('div');
      left.innerHTML = `<div>${label}</div><div class="subtitle">${sub}</div>`;
      const right = document.createElement('div');
      right.className = 'subtitle';
      div.appendChild(left); div.appendChild(right);
      div.onclick = onClick;
      return div;
    }
    function chips() {
      const box = $("#chips");
      box.innerHTML = "";
      if (selDiv) box.appendChild(tag(`Division: ${selDiv.name} (id ${selDiv.id})`));
      if (selDist) box.appendChild(tag(`District: ${selDist.name} (id ${selDist.id})`));
      if (selUpa) box.appendChild(tag(`Upazila: ${selUpa.name} (id ${selUpa.id})`));
      if (!selDiv && !selDist && !selUpa) box.innerHTML = `<span class="small">Nothing selected yet.</span>`;
    }
    function tag(text) {
      const s = document.createElement('span'); s.className = 'chip'; s.textContent = text; return s;
    }

    /* =========================
       Filters + Lists
       ========================= */
    function renderDivisions() {
      const q = $("#qDiv").value.trim().toLowerCase();
      const list = $("#listDiv"); list.innerHTML = "";
      DIVISIONS
        .filter(d => !q || d.name.toLowerCase().includes(q) || (d.bn || "").toLowerCase().includes(q))
        .forEach(d => list.appendChild(item(d.name, `id ${d.id} • ${d.bn || ""}`, () => {
          selDiv = d; selDist = null; selUpa = null;
          renderDistricts(); renderUpazilas(); chips(); setCode();
        })));
    }
    function renderDistricts() {
      const q = $("#qDist").value.trim().toLowerCase();
      const list = $("#listDist"); list.innerHTML = "";
      const pool = selDiv ? DISTRICTS.filter(x => x.division_id === selDiv.id) : DISTRICTS;
      pool
        .filter(d => !q || d.name.toLowerCase().includes(q) || (d.bn || "").toLowerCase().includes(q))
        .forEach(d => list.appendChild(item(d.name, `id ${d.id} • ${d.bn || ""}`, () => {
          selDist = d; selUpa = null;
          renderUpazilas(); chips(); setCode();
        })));
    }
    function renderUpazilas() {
      const q = $("#qUpa").value.trim().toLowerCase();
      const list = $("#listUpa"); list.innerHTML = "";
      const pool = selDist ? UPAZILAS.filter(x => x.district_id === selDist.id) : UPAZILAS;
      pool
        .filter(u => !q || u.name.toLowerCase().includes(q) || (u.bn || "").toLowerCase().includes(q))
        .forEach(u => list.appendChild(item(u.name, `id ${u.id} • ${u.bn || ""}`, () => {
          selUpa = u; chips(); setCode();
        })));
    }

    /* =========================
       Events
       ========================= */
    $("#qDiv").addEventListener("input", renderDivisions);
    $("#qDist").addEventListener("input", renderDistricts);
    $("#qUpa").addEventListener("input", renderUpazilas);
    $("#clearDiv").onclick = () => { $("#qDiv").value = ""; selDiv = null; selDist = null; selUpa = null; renderDivisions(); renderDistricts(); renderUpazilas(); chips(); setCode(); };
    $("#clearDist").onclick = () => { $("#qDist").value = ""; selDist = null; selUpa = null; renderDistricts(); renderUpazilas(); chips(); setCode(); };
    $("#clearUpa").onclick = () => { $("#qUpa").value = ""; selUpa = null; renderUpazilas(); chips(); setCode(); };
    $("#clearAll").onclick = () => { $("#qDiv").value = ""; $("#qDist").value = ""; $("#qUpa").value = ""; selDiv = selDist = selUpa = null; renderDivisions(); renderDistricts(); renderUpazilas(); chips(); setCode(); };

    $("#copyBtn").onclick = async () => {
      const t = $("#code").textContent.trim();
      if (!t || t === "—") return;
      try { await navigator.clipboard.writeText(t); $("#copyBtn").textContent = "Copied!"; setTimeout(() => $("#copyBtn").textContent = "Copy", 900); } catch (e) { }
    };

    /* Init */
    renderDivisions(); renderDistricts(); renderUpazilas(); chips(); setCode();
  </script>
</body>

</html>